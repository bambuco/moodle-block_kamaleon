{"version":3,"file":"designchooser.min.js","sources":["../src/designchooser.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/ //\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Source type selection handler.\n *\n * @module    block_kamaleon/typechooser\n * @copyright 2023 David Herney @ BambuCo\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * Initialise the type chooser.\n */\nexport const init = () => {\n    document.querySelector('#id_design').addEventListener(\"change\", e => {\n        var form = e.target.closest(\"form\");\n        // Add a hidden input to the form with the preview param.\n        var input = document.createElement(\"input\");\n        input.setAttribute(\"type\", \"hidden\");\n        input.setAttribute(\"name\", \"preview\");\n        input.setAttribute(\"value\", \"1\");\n        form.appendChild(input);\n\n        // Submit the form.\n        form.querySelector('#id_submitbutton').click();\n    });\n};\n"],"names":["document","querySelector","addEventListener","e","form","target","closest","input","createElement","setAttribute","appendChild","click"],"mappings":"iKAyBoB,KAChBA,SAASC,cAAc,cAAcC,iBAAiB,UAAUC,QACxDC,KAAOD,EAAEE,OAAOC,QAAQ,QAExBC,MAAQP,SAASQ,cAAc,SACnCD,MAAME,aAAa,OAAQ,UAC3BF,MAAME,aAAa,OAAQ,WAC3BF,MAAME,aAAa,QAAS,KAC5BL,KAAKM,YAAYH,OAGjBH,KAAKH,cAAc,oBAAoBU"}